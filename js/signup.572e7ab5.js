"use strict";(self["webpackChunkkeepcoding_final_boss_mergegram"]=self["webpackChunkkeepcoding_final_boss_mergegram"]||[]).push([[830],{8097:function(e,r,o){o.r(r),o.d(r,{default:function(){return I}});var a=o(6252);function s(e,r,o,s,t,l){const i=(0,a.up)("SignUp");return(0,a.wg)(),(0,a.j4)(i)}var t=o(9963),l=o(3577);const i=e=>((0,a.dD)("data-v-2ce003f4"),e=e(),(0,a.Cn)(),e),n={class:"login"},d=i((()=>(0,a._)("div",{class:"container__image"},[(0,a._)("div",{class:"image"})],-1))),m={class:"container"},u=i((()=>(0,a._)("label",{for:"",style:{color:"white"}},"Nombre",-1))),c={style:{color:"violet"}},p=i((()=>(0,a._)("label",{for:"",style:{color:"white"}},"Apellidos",-1))),f={style:{color:"violet"}},v=i((()=>(0,a._)("label",{for:"",style:{color:"white"}},"Correo electrónico",-1))),g={style:{color:"violet"}},w=i((()=>(0,a._)("label",{for:"",style:{color:"white"}},"Contraseña",-1))),$={style:{color:"violet"}},_=["disabled"];function y(e,r,o,s,i,y){const h=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",n,[d,(0,a._)("div",m,[(0,a._)("form",{onSubmit:r[5]||(r[5]=(0,t.iM)(((...e)=>y.signUpButtonPressed&&y.signUpButtonPressed(...e)),["prevent"])),style:{"flex-direction":"column"}},[u,(0,a.wy)((0,a._)("input",{class:"form-control",placeholder:"Escribe tu nombre",type:"text","onUpdate:modelValue":r[0]||(r[0]=e=>s.v$.form.firstName.$model=e)},null,512),[[t.nr,s.v$.form.firstName.$model]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.v$.form.firstName.$errors,((e,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r},[(0,a._)("div",c,(0,l.zw)(e.$message),1)])))),128)),p,(0,a.wy)((0,a._)("input",{class:"form-control",placeholder:"Aquí tus apellidos",type:"text","onUpdate:modelValue":r[1]||(r[1]=e=>s.v$.form.lastName.$model=e)},null,512),[[t.nr,s.v$.form.lastName.$model]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.v$.form.lastName.$errors,((e,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r},[(0,a._)("div",f,(0,l.zw)(e.$message),1)])))),128)),v,(0,a.wy)((0,a._)("input",{class:"form-control",placeholder:"Introduce tu e-mail",type:"email","onUpdate:modelValue":r[2]||(r[2]=e=>s.v$.form.email.$model=e)},null,512),[[t.nr,s.v$.form.email.$model]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.v$.form.email.$errors,((e,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r},[(0,a._)("div",g,(0,l.zw)(e.$message),1)])))),128)),w,(0,a.wy)((0,a._)("input",{class:"form-control",placeholder:"Escribe tu contraseña",type:"password","onUpdate:modelValue":r[3]||(r[3]=e=>s.v$.form.password.$model=e)},null,512),[[t.nr,s.v$.form.password.$model]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.v$.form.password.$errors,((e,r)=>((0,a.wg)(),(0,a.iD)("div",{key:r},[(0,a._)("div",$,(0,l.zw)(e.$message),1)])))),128)),(0,a._)("div",null,[(0,a._)("button",{class:"next",disabled:s.v$.form.$invalid,onClick:r[4]||(r[4]=e=>y.signUp(s.router,s.store,i.form))}," Regístrate ",8,_)])],32)]),(0,a.Wm)(h,{to:"/login"},{default:(0,a.w5)((()=>[(0,a.Uk)("Ya tengo una cuenta, quiero ingresar")])),_:1})])}o(7658);var h=o(4028),N=o(2587),b=o(2526),k=o(2201),U=o(3907);function D(e){let r=new RegExp("^[a-zA-Z]+(?:[-'\\s][a-zA-Z]+)*$");return!!r.test(e)}var C={setup(){const e=(0,k.tv)(),r=(0,U.oR)();return{v$:(0,h.ZP)(),router:e,store:r}},data(){return{form:{firstName:"",lastName:"",email:"",password:""}}},methods:{signUpButtonPressed(e){console.log("Sign In Button Pressed"),e.preventDefault()},async signUp(e,r,o){try{await b.w.auth().setPersistence(b.w.auth.Auth.Persistence.LOCAL);const a=await b.w.auth().createUserWithEmailAndPassword(o.email,o.password);if(a&&a.user){await a.user.updateProfile({displayName:`${o.firstName} ${o.lastName}`}),window.localStorage.setItem("mergegram_refreshToken",a.user.refreshToken);const s=b.db.collection("users");s.add({userUid:a.user.uid,date:b.w.firestore.FieldValue.serverTimestamp(),name:`${o.firstName} ${o.lastName}`,photo:"https://i.pravatar.cc/"}),r.commit("setLogged",a.user),e.push("/")}}catch(a){alert(a.message)}}},validations(){return{form:{firstName:{required:N.C1,name_validation:{$validator:D,$message:"Invalid Name. Valid name only contain letters, dashes (-) and spaces"}},lastName:{required:N.C1,name_validation:{$validator:D,$message:"Invalid Name. Valid name only contain letters, dashes (-) and spaces"}},email:{required:N.C1,email:N.Do},password:{required:N.C1,min:(0,N.Ei)(6)}}}}},P=o(3744);const A=(0,P.Z)(C,[["render",y],["__scopeId","data-v-2ce003f4"]]);var V=A,q=(0,a.aZ)({components:{SignUp:V}});const z=(0,P.Z)(q,[["render",s]]);var I=z}}]);
//# sourceMappingURL=signup.572e7ab5.js.map